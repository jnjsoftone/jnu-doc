import r from"fs";import e from"path";let t=r=>`
${r}`.replace(/\r\n/g,"\n").replace(/\n(\d+)\n+/g,"$1	").replace(/\n([^\d])/g,"	$1"),n=r=>`
${r}`.replace(/\r\n/g,"\n").replace(/^\s*\d+\s*$/gm,"").replace(/\d.+\-\->\s*\d.+/g,"").replace(/^\s*$/gm,"").replace(/\n{2,}/g,"\n").trim(),l=r=>`
${r}`.replace(/\r\n/g,"\n").replace(/WEBVTT\n/g,"").replace(/\n(\d+)\n+/g,"$1	").replace(/\n([^\d])/g,"	$1"),c=r=>`
${r}`.replace(/\r\n/g,"\n").replace(/WEBVTT\n/g,"").replace(/\d.+\-\->\s*\d.+/g,"").replace(/^\s*$/gm,"").replace(/\n{2,}/g,"\n").trim(),o=r=>r.replace(/\r\n/g,"\n").replace(/\n/g,"\n\n").replace(/\t/g,"\n"),p=r=>{let e=r.split("\n").filter(r=>{let e=r.trim();return!(""!==e&&!isNaN(Number(e)))}).join("\n").replace(/,/g,".");return`WEBVTT

${e}`},s=r=>{let e=r.replace("WEBVTT\n","").split("\n").filter(r=>""!==r.trim()),t=1,n=[];for(let r=0;r<e.length;r++)n.push(t.toString()),n.push(e[r].replace(/\./g,",")),r<e.length-1&&n.push(""),t++;return n.join("\n")},a=(r,e,n)=>"srt"==e&&"tsv"==n?t(r):"tsv"==e&&"srt"==n?o(r):void 0,i=(e,t)=>{try{let n=r.readFileSync(e,"utf-8"),l=p(n);r.writeFileSync(t,l,"utf-8"),console.log("변환이 완료되었습니다.")}catch(r){throw console.error("변환 중 오류가 발생했습니다:",r),r}},g=(t,n)=>{for(let l of r.readdirSync(t)){let c=e.join(t,l),o=e.join(n,l.replace(".srt",".vtt"));r.statSync(c).isDirectory()?(r.existsSync(o)||r.mkdirSync(o,{recursive:!0}),g(c,o)):l.endsWith(".srt")&&i(c,o)}};export{t as tsvFromSrt,n as txtFromSrt,o as srtFromTsv,l as tsvFromVtt,c as txtFromVtt,a as convertStr,p as srtToVtt,s as vttToSrt,i as convertSrtFileToVtt,g as convertSrtToVttInFolder};