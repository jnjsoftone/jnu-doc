let e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"," ":"&nbsp;","/":"&#x2F;","=":"&#x3D;","©":"&copy;","®":"&reg;"},t=RegExp(`[${Object.keys(e).map(e=>r(e)).join("")}]`,"g"),a=a=>a.replace(t,t=>e[t]||t),l=t=>{let a=Object.entries(e).reduce((e,[t,a])=>(e[a]=t,e),{});return t.replace(/&[#\w]+;/g,e=>a[e]||e)},r=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),s=e=>e.replace(/([[\]])/g,"\\$1"),n=e=>e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),p=e=>e.replace(/\\"/g,'"').replace(/\\n/g,"\n"),c=e=>e.replace(/"/g,'\\"'),i=e=>Object.entries(e).map(([e,t])=>{let l=e.replace(/^{{|}}$/g,"");return`
        <div class="variable-item is-collapsed">
          <span class="variable-key" data-variable="${a(e)}">${a(l)}</span>
          <span class="variable-value">${a(t)}</span>
          <span class="chevron-icon" aria-label="Expand">
            <i data-lucide="chevron-right"></i>
          </span>
        </div>
      `}).join(""),o=(e,t,a)=>{let l=e.getAttribute(t);if(l)try{let r=new URL(a.href);r.pathname.endsWith("/")||(r.pathname=r.pathname.substring(0,r.pathname.lastIndexOf("/")+1));let s=new URL(l,r);if(["http:","https:"].includes(s.protocol)){let a=s.href;e.setAttribute(t,a)}else{let s=l.split("/"),n=s[2];if(n&&n.includes(".")){let r=`${a.protocol}//`+l.split("://")[1];e.setAttribute(t,r)}else{let a=s.slice(3).join("/"),l=new URL(a,r.origin+r.pathname).href;e.setAttribute(t,l)}}}catch(a){console.warn(`Failed to process URL: ${l}`,a),e.setAttribute(t,l)}},u=e=>e<1e3?`${Math.round(e)}ms`:`${(e/1e3).toFixed(2)}s`;export{a as encodeHtml,l as decodeHtml,r as escapeRegExp,s as escapeMarkdown,n as escapeValue,p as unescapeValue,c as escapeDoubleQuotes,i as formatVariables,o as makeUrlAbsolute,u as formatDuration};