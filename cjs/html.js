"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),!function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(exports,{decodeHtml:function(){return t},encodeHtml:function(){return n},escapeDoubleQuotes:function(){return i},escapeMarkdown:function(){return a},escapeRegExp:function(){return r},escapeValue:function(){return l},formatDuration:function(){return o},formatVariables:function(){return c},makeUrlAbsolute:function(){return u},unescapeValue:function(){return s}});const e=require("querystring"),t=t=>(0,e.unescape)(t),n=e=>{let t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"," ":"&nbsp;","/":"&#x2F;","=":"&#x3D;"};return e.replace(/[&<>"'\s/=]/g,e=>t[e]||e)},r=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),a=e=>e.replace(/([[\]])/g,"\\$1"),l=e=>e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),s=e=>e.replace(/\\"/g,'"').replace(/\\n/g,"\n"),i=e=>e.replace(/"/g,'\\"'),c=e=>Object.entries(e).map(([e,t])=>{let r=e.replace(/^{{|}}$/g,"");return`
        <div class="variable-item is-collapsed">
          <span class="variable-key" data-variable="${n(e)}">${n(r)}</span>
          <span class="variable-value">${n(t)}</span>
          <span class="chevron-icon" aria-label="Expand">
            <i data-lucide="chevron-right"></i>
          </span>
        </div>
      `}).join(""),u=(e,t,n)=>{let r=e.getAttribute(t);if(r)try{let a=new URL(n.href);a.pathname.endsWith("/")||(a.pathname=a.pathname.substring(0,a.pathname.lastIndexOf("/")+1));let l=new URL(r,a);if(["http:","https:"].includes(l.protocol)){let n=l.href;e.setAttribute(t,n)}else{let l=r.split("/"),s=l[2];if(s&&s.includes(".")){let a=`${n.protocol}//`+r.split("://")[1];e.setAttribute(t,a)}else{let n=l.slice(3).join("/"),r=new URL(n,a.origin+a.pathname).href;e.setAttribute(t,r)}}}catch(n){console.warn(`Failed to process URL: ${r}`,n),e.setAttribute(t,r)}},o=e=>e<1e3?`${Math.round(e)}ms`:`${(e/1e3).toFixed(2)}s`;